# AI 협업 프로토콜 (Planner & Developer Protocol)

## 1. 개요 (Overview)
본 문서는 기획자(Planner, Gemini-Antigravity)와 개발자(Developer, Opus) 간의 효율적인 업무 분담과 맥락 전달(Context Handoff)을 위한 규칙입니다.

> **철학:** "기획자는 코드를 상상하고, 개발자는 상상을 실현한다."
> **목표:** 개발자(Opus)가 투입되었을 때, **"무엇을(What), 왜(Why), 어떻게(How)"** 해야 하는지 즉시 파악할 수 있는 **완벽한 인수인계 문서**를 유지한다.

---

## 2. 역할 분담 (Role Definition)

| 역할 | 담당 AI | 주요 업무 (R&R) |
| :--- | :--- | :--- |
| **Planner (PM/Arch)** | **Gemini** | 요구사항 분석, 아키텍처 설계, DB 스키마 정의, UI/UX 기획, **개발 로그 작성**, **코드 리뷰**, 검증 |
| **Developer (Coder)** | **Opus** | 실제 코드 작성, 버그 수정, 단위 테스트, 리팩토링, 기능 구현 |

---

## 3. 핵심 문서 체계 (Documentation System)

모든 소통은 `d:/cbt/koreanews/task/plan/` 폴더 내의 문서를 통해 이루어집니다.

### 3.1 📜 `DEVELOPMENT_LOG.md` (개발 진행 로그)
개발자가 가장 먼저 확인해야 할 **'상태 창'**입니다.

*   **현재 상태 (Current Status):** 프로젝트가 지금 어떤 단계인지 (예: 기획 완료, 개발 중, 버그 수정 중).
*   **최근 변경 사항 (Recent Changes):** 방금까지 무엇이 수정되었는지 (파일 경로 포함).
*   **기술 부채 (Tech Debt):** 나중에 고쳐야 할 것들.
*   **환경 변수 정보:** `.env`에 추가된 키 설명.

### 3.2 🚀 `NEXT_MISSION.md` (개발 지시서)
기획자가 개발자에게 보내는 **'작업 지시서'**입니다.

#### 구조 예시:
```markdown
# [Mission] 봇-API 연동 구현

## 1. 목표
Python 봇(`scraper.py`)이 수집한 데이터를 Next.js API(`api/bot/ingest`)로 전송하도록 코드를 수정하시오.

## 2. 참고 파일
- API 명세: `src/app/api/bot/ingest/route.ts`
- 봇 소스: `scrapers/naju_scraper.py`

## 3. 세부 지침 (Requirements)
1. `requests.post` 사용 시 타임아웃 10초 설정할 것.
2. API Key는 환경변수 `BOT_TOKEN`에서 가져오도록 구현할 것.
3. 실패 시 3회 재시도(Retry) 로직 포함할 것.
```

---

## 4. 업무 워크플로우 (Workflow)

1.  **[Planner] 기획 & 설계:**
    *   요구사항 분석 후 `admin_system_plan_v1.md` 같은 기획서 작성.
    *   DB 스키마(SQL) 및 API 명세 작성.
2.  **[Planner] 미션 하달:**
    *   `NEXT_MISSION.md`에 구체적인 개발 요구사항 작성.
    *   `DEVELOPMENT_LOG.md` 업데이트 (상태: `Ready for Dev`).
3.  **[Developer] 코드 구현:**
    *   문서 확인 후 `src/` 코드 작업 수행.
    *   작업 완료 후 `DEVELOPMENT_LOG.md`에 '구현 내역' 기록 (선택 사항).
4.  **[Planner] 검증 & 리뷰:**
    *   결과물 확인 및 테스트.
    *   다음 단계 기획.

---

## 5. 폴더 구조 제안

```text
d:/cbt/koreanews/task/
├── plan/
│   ├── 00_MASTER_PLAN.md      # 전체 로드맵
│   ├── DEVELOPMENT_LOG.md     # [핵심] 개발 상태/로그 (Hand-off)
│   ├── NEXT_MISSION.md        # [핵심] 다음 개발자를 위한 지시서
│   └── archive/               # 완료된 미션 보관
```
