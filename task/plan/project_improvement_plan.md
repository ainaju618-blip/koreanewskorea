# Korea NEWS 프로젝트 통합 개선 계획서 (Integrated Improvement Plan)

> **작성일**: 2025-12-07
> **목적**: 현재까지 논의된 UI/UX 개선, 기능 고도화, 그리고 스크래핑 엔진의 안정성을 확보하기 위한 통합 작업 계획입니다.

---

## 0. 긴급 오류 수정 (Urgent Bug Fixes)
가장 우선적으로 해결해야 할 현재 시스템의 오류 사항입니다.

### A. 스크래핑 오류 (Scraping Errors)
- [ ] **URL 404 오류 수정**: 목포시(`mokpo`) 등 설정된 URL이 유효하지 않아 수집이 실패하는 문제. 올바른 URL(`.../press_release`)로 수정 필수.
- [ ] **SSL 인증서 에러**: 일부 지자체 사이트 접속 시 SSL 인증서 만료로 실패하는 문제. `verify=False` 옵션으로 우회 처리.
- [ ] **첨부파일 미수집**: 기사 내용에 중요한 첨부파일(hwp 등)이 누락되는 문제. 링크 추출 로직 추가.

### B. UI 오류 (UI Bugs)
- [ ] **레이아웃 깨짐**: '나주 Focus' 섹션 등에서 카드 높이가 맞지 않거나 정렬이 어긋나는 현상 수정.
- [ ] **이미지 엑박**: 스크래핑된 이미지의 경로가 상대 경로(`/...`)여서 엑박이 뜨는 문제 해결.

---

## 🏗️ 1. UI/UX 디자인 완성도 제고 (벤치마킹: 강원일보)
현재 도입된 초기 디자인 시스템을 고도화하여 전문적인 뉴스 사이트의 룩앤필을 완성합니다.

### A. `NewsCard` 컴포넌트 확장 및 통일
- [ ] **유형별 스타일 구현**:
    - **Horizontal (기본)**: 썸네일(좌) + 텍스트(우) 구조. 카테고리 목록 등에 적용.
    - **Vertical (세로형)**: 이미지 상단 + 텍스트 하단 구조. 메인 페이지 '나주 혁신도시 Focus' 4열 그리드에 적용.
    - **Compact (사이드바)**: 텍스트 위주 또는 작은 썸네일. 우측 '주요 뉴스' 영역에 적용.
- [ ] **전역 적용**: 구버전 인라인 스타일이 남아있는 모든 리스트 컴포넌트를 `NewsCard`로 전면 교체.

### B. 기사 상세 페이지 레이아웃 개선
- [ ] **헤더 구조 재배치**:
    1.  **제목 (Title)**: 32px Bold, 가독성 강화.
    2.  **부제목 (Subtitle)**: 제목 하단 배치, 좌측에 포인트 컬러(#C8161D) 세로선 바(Bar) 추가.
    3.  **메타 정보**: 기자 이름, 이메일, 입력/수정 시간 표시 (회색 톤).
    4.  **공유 버튼**: SNS 공유 아이콘 배치.
- [ ] **본문 스타일링**: 행간(Line-height) 1.6~1.8, 문단 간격 등 타이포그래피 가독성 최적화 (`Noto Sans KR`).

### C. 메인 홈페이지 (`page.tsx`) 폴리싱
- [ ] **섹션 디자인 통일**: 모든 섹션(뉴스, 포토, 오피니언 등)의 헤더 스타일을 '굵은 밑줄 + 포인트 컬러'로 통일.
- [ ] **레이아웃 점검**: 반응형(모바일) 환경에서 그리드 깨짐 현상 확인 및 수정.

---

## 🚀 2. 핵심 기능 고도화 (Features)
이미 구현된 기능의 마무리를 짓고, 사용자 경험을 향상시킬 신규 기능을 추가합니다.

### A. 주요 기사 Focus 기능 (나주 혁신도시)
- [ ] **검증 (E2E Test)**: 관리자가 'Focus' 체크박스를 켜고 저장했을 때, 메인 페이지 '나주 Focus' 섹션의 **첫 번째 자리**에 해당 기사가 고정 노출되는지 확인.
- [ ] **UI 개선**: 관리자 목록에서 Focus 기사를 쉽게 식별할 수 있도록 배지(Badge) 또는 아이콘 추가.

### B. 부제목 (Subtitle) 기능
- [ ] **입력 필드**: 기사 작성/수정 에디터에서 제목 바로 아래에 부제목 입력란이 정상 작동하는지 확인.
- [ ] **렌더링**: 상세 페이지 및 일부 카드 리스트(옵션)에서 부제목이 노출되는지 확인.

### C. 카테고리 커스텀 링크
- [ ] **기능 구현**: `categories` 테이블에 `custom_url` 컬럼 추가.
- [ ] **네비게이션 연동**: 헤더 메뉴 클릭 시, 일반 카테고리 이동(`slug`) 대신 설정된 `custom_url`로 리다이렉트 되도록 처리.

---

## 🤖 3. 스크래퍼 엔진 안정화 (General Stability)
개별 시군 분석 내용을 제외하고, 모든 스크래퍼에 공통적으로 적용되어야 할 **안정성 원칙**을 정의합니다.

### A. 첨부파일(Attachment) 완전 수집
- [ ] **로직 표준화**: `universal_scraper.py`에 첨부파일 다운로드 링크(hwp, pdf 등)를 추출하여 **기사 본문(`content`) 하단에 HTML 리스트 형태**로 자동 추가하는 로직을 기본 탑재.
- [ ] **다운로드 편의성**: 사용자가 클릭 시 바로 원본 서버 파일이 다운로드되도록 `href` 속성 보존.

### B. 이미지 핸들링 (Image Handling)
- [ ] **절대 경로 변환**: `img` 태그의 `src`가 상대 경로(`/...`)인 경우, 반드시 `base_url`과 결합하여 절대 경로로 변환 저장. (이미지 엑박 원천 차단)

### C. 강건성 (Robustness) 확보
- [ ] **404/Connection 에러 대응**: 특정 지자체 사이트가 다운되거나 URL이 변경되어도, 전체 봇이 멈추지 않고 에러 로그만 남긴 후 **다음 지역으로 건너뛰도록(Skip)** 예외 처리 강화.
- [ ] **SSL 인증서 무시**: 공공기관 사이트의 만료된 인증서로 인한 접속 실패를 방지하기 위해 `verify=False` 옵션 전역 적용.

---

## 📅 실행 계획
1.  **스크래퍼 엔진 안정화 (공통 로직)** 우선 적용
2.  **UI/UX 디자인** (NewsCard, 상세 페이지) 전면 개편
3.  **기능 고도화** (Focus, Subtitle, Custom Link) 마무리 및 테스트
