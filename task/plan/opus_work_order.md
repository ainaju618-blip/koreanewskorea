# Opus 4.5 작업 지시서 (Work Order)

> **작성일**: 2025-12-07
> **작성자**: CSTO (Planner)
> **수신**: Opus 4.5 (Developer)

이 문서는 Korea NEWS 프로젝트의 **UI/UX 고도화** 및 **스크래퍼 안정성 확보**를 위한 구체적인 작업 지시 사항을 정리한 것입니다.

---

## 🏗️ 1. UI/UX 디자인 완성도 제고 (Priority: High)
현재 디자인 시스템 도입 및 일부 페이지 개편이 진행되었으나, 여전히 **일관성이 부족하고 레이아웃이 깨지는 부분**이 존재합니다. 이를 완벽하게 정리하십시오.

### A. `NewsCard` 컴포넌트 확장
- [ ] **Vertical Mode (세로형) 구현**: 메인 홈페이지 '나주 혁신도시 Focus' 섹션(4열 그리드)에 적합한 세로형 카드 스타일을 추가하십시오. (`variant="vertical"` prop 추가)
- [ ] **Compact Mode (사이드바형) 구현**: 우측 '주요 뉴스' 영역에 들어갈 텍스트 위주의 컴팩트 카드 스타일을 구현하십시오.
- [ ] **일관성 검증**: 모든 리스트(메인, 카테고리, 검색결과)가 구버전 인라인 스타일이 아닌, 이 `NewsCard` 컴포넌트를 사용하고 있는지 확인하고 교체하십시오.

### B. 기사 상세 페이지 레이아웃 (강원일보 스타일)
- [ ] **헤더 디자인**: 제목(Title) → 부제목(Subtitle, 좌측 세로선 포함) → 메타 정보(기자, 날짜) → 공유 버튼 순서로 정렬하십시오.
- [ ] **본문 타이포그래피**: `Noto Sans KR` 적용 여부 및 가독성(행간, 자간)을 최종 점검하십시오.

### C. 메인 홈페이지 (`page.tsx`) 폴리싱
- [ ] **섹션 타이틀**: 모든 섹션의 제목 스타일을 **뉴스 레드(#C8161D)** 포인트 컬러와 굵은 밑줄 스타일로 통일하십시오.
- [ ] **Focus 기사 노출**: `is_focus=true`인 기사가 '나주 혁신도시 Focus' 섹션의 최상단(또는 강조된 위치)에 정확히 렌더링되는지 E2E 테스트로 검증하십시오.

---

## 🤖 2. 스크래퍼 엔진 고도화 (Priority: Critical)
단순 텍스트 수집을 넘어, **완전한 기사 정보(이미지, 첨부파일)**를 손실 없이 가져와야 합니다.

### A. 첨부파일(Attachment) 수집 로직 표준화
- [ ] **기능 구현**: `universal_scraper.py`에 구현된 첨부파일 링크 추출 및 본문(`content`) 하단 삽입 로직을 모든 지자체에 적용할 수 있도록 표준화하십시오.
- [ ] **검증**: 실제 목포시(`mokpo`) 테스트를 통해 첨부파일 링크가 본문에 정상적으로 `append` 되는지 확인하십시오.

### B. 이미지 핸들링 (Image Handling)
- [ ] **절대 경로 변환**: 본문 내 `img` 태그의 `src`가 상대 경로(`/...`)일 경우, 반드시 `base_url`을 결합하여 절대 경로로 변환한 뒤 저장해야 합니다. (이미지 엑박 방지)

### C. 예외 처리 강화 (Robustness)
- [ ] **Broken URL 대응**: 목포시/무안군 사례처럼 URL이 404인 경우, 스크래퍼가 멈추지 않고 "점검 필요(Warning)" 상태로 로그를 남기고 다음 작업으로 넘어가도록 예외 처리를 강화하십시오.
- [ ] **SSL 에러 무시**: `verify=False` 옵션을 전역적으로 적용하여 인증서 만료된 지자체 사이트도 접근 가능하게 하십시오.

---

## 🛠️ 3. 백엔드 및 기타 기능 (Priority: Medium)
### A. 카테고리 커스텀 링크
- [ ] **DB 및 API**: `categories` 테이블에 `custom_url` 컬럼이 있는지 확인하고, 있다면 헤더 메뉴 클릭 시 이 URL로 이동하도록 프론트엔드 로직을 수정하십시오.

### B. 관리자(Admin) 편의성
- [ ] **부제목(Subtitle) 입력**: 기사 작성/수정 페이지에 부제목 입력 필드가 정상 작동하는지 확인하십시오.
- [ ] **Focus 지정**: 기사 목록에서 'Focus' 여부를 한눈에 볼 수 있는 배지(Badge)나 아이콘을 추가하십시오.

---

## 📅 작업 순서 제안
1.  **스크래퍼 엔진 안정화**: 첨부파일/이미지 로직 및 예외 처리 (데이터 수집이 우선)
2.  **UI/UX 대통합**: `NewsCard` 고도화 및 메인 페이지 리팩토링
3.  **기능 점검**: Focus, Subtitle 등 세부 기능 E2E 테스트

**Opus는 위 지시사항을 숙지하고, '스크래퍼 엔진 안정화'부터 즉시 착수하십시오.**
