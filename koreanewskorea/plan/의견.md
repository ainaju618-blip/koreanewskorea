# DEVELOPMENT_PLAN.md 비판적 검토 의견서

> **파일:** `koreanewskorea/plan/의견.md`
> **작성자:** Gemini (Antigravity)
> **작성일:** 2025-12-23
> **목적:** 개발 착수 전 리스크 최소화를 위한 계획서 재검토

---

## 핵심 의문 (Critical Questions)

### 🔴 1. "이미 만들어진 코드"와의 충돌

**문제점:**
이 계획서는 Phase 1부터 시작하는 것처럼 작성되어 있으나, **이미 로컬에서 동작하는 코드가 존재**합니다.

```
현재 koreanewskorea/ 폴더에 이미 존재:
- package.json ✅
- tsconfig.json ✅
- next.config.ts ✅
- middleware.ts ✅
- app/layout.tsx, page.tsx ✅
- common/lib/regions.ts, content.ts, supabase.ts ✅
- common/components/* (6개) ✅
- common/layouts/* (3개) ✅
```

**질문:**
- 이 계획서는 "처음부터 새로 만드는 것"인가, "기존 코드를 정리하는 것"인가?
- 기존 코드와 계획서의 불일치는 어떻게 해결할 것인가?

**제안:**
계획서에 "현재 상태"와 "목표 상태"를 명시해야 합니다.

---

### 🔴 2. Phase 순서의 비효율성

**문제점:**
현재 Phase 순서:
```
Phase 1: 프로젝트 초기화
Phase 2: 핵심 인프라
Phase 3: UI 컴포넌트
Phase 4: 콘텐츠 시스템
Phase 5: 페이지
Phase 6: 데이터베이스  ← 너무 늦음!
Phase 7: 배포
Phase 8: 롤아웃
```

**비판:**
- Phase 6(DB)이 Phase 2~5보다 뒤에 있음
- `region_config` 테이블이 없으면 Phase 2의 "getRegionConfig()"는 하드코딩만 가능
- 하드코딩 → DB 전환 시 추가 리팩토링 필요

**제안:**
Phase 순서 재배치:
```
Phase 1: 프로젝트 초기화
Phase 2: 데이터베이스 (region_config 먼저!)
Phase 3: 핵심 인프라 (DB 기반)
Phase 4: UI 컴포넌트
Phase 5: 콘텐츠 시스템
Phase 6: 페이지
Phase 7: 배포
Phase 8: 롤아웃
```

---

### 🟠 3. API Routes의 필요성 재고

**문제점:**
Phase 5.3에서 4개의 API route 생성 계획:
```
/api/regions
/api/region/[code]
/api/region/[code]/news
/api/region/[code]/nearby
```

**비판:**
- 현재 page.tsx에서 직접 Supabase 호출 중 (Server Component)
- 별도 API가 정말 필요한가?
- Next.js App Router에서는 Server Component가 권장됨

**실제 필요 케이스:**
- 클라이언트에서 동적 데이터 로딩 시
- 외부 서비스 연동 시
- CORS가 필요한 경우

**제안:**
"API routes는 Phase 5에서 필수가 아님"으로 변경하고, "필요시 추가" 방식 검토

---

### 🟠 4. Tier 1 가정의 위험성

**문제점:**
```
| `FullLayout.tsx` | 1 | Gwangju, Jeonnam | Hero slider (6), 4-col grid |
```

**비판:**
- Tier 1인 광주/전남에 매일 6개 이상의 기사가 발행된다는 가정
- 실제 데이터를 확인했는가?
- Hero 6개 + 본문 영역 = 최소 10-15개 기사 필요

**질문:**
현재 Supabase `posts` 테이블에서:
- 광주(region='gwangju') 일평균 기사 수는?
- 전남(region='jeonnam') 일평균 기사 수는?

**제안:**
실제 데이터 기반 Tier 기준 재검토 필요

---

### 🟠 5. 70/20/10 비율의 현실성

**문제점:**
```
Local: 70%
Nearby: 20%
National: 10%
```

**비판:**
- Tier 3 군 지역은 일 1-5개 기사 (spec 명시)
- 총 20개 중 70%면 14개가 Local이어야 함
- 하루 3개 발행 지역에서는 불가능

**Smart Fill이 대부분의 콘텐츠를 채울 경우:**
- "지역 뉴스"라는 정체성 희석
- 사용자 신뢰도 하락 우려

**제안:**
Tier별 다른 비율 적용 검토:
```
Tier 1: 70/20/10 (콘텐츠 충분)
Tier 2: 50/30/20 (중간)
Tier 3: 30/40/30 (Smart Fill 적극 활용)
```

---

### 🟡 6. 개발 일정 부재

**문제점:**
계획서에 **일정(Timeline)**이 전혀 없음

**질문:**
- Phase당 예상 소요 시간은?
- 전체 완료 목표일은?
- 마일스톤은?

**제안:**
최소한의 일정 추가:
```
Phase 1-2: 1일
Phase 3-5: 2-3일
Phase 6: 1일 (DB 작업)
Phase 7: 1일 (배포)
Phase 8: 2-3일 (롤아웃 테스트)

총 예상: 7-10일
```

---

### 🟡 7. 테스트 전략 부족

**문제점:**
Phase 7.3에 간단한 체크리스트만 존재:
```
- [ ] gwangju.koreanewskorea.com loads
- [ ] Header shows correct region name
...
```

**비판:**
- 24개 지역 전체를 수동 테스트?
- 자동화 테스트 계획 없음
- 회귀 테스트 없음

**제안:**
테스트 자동화 방안 추가:
```
1. 24개 subdomain 응답 확인 스크립트
2. 각 Tier 레이아웃 렌더링 스냅샷 테스트
3. Smart Fill 로직 단위 테스트
```

---

### 🟡 8. SEO/성능 고려 미흡

**Open Questions에만 언급:**
```
2. **SEO requirements?** - Sitemap, meta tags, structured data
```

**비판:**
- 이것은 "질문"이 아니라 "필수 요구사항"
- Google News 등록 고려 없음
- Core Web Vitals 목표 없음

**제안:**
Phase 5에 SEO 작업 명시:
```
- sitemap.xml 생성
- robots.txt 설정
- 각 지역별 meta tags
- Open Graph 태그
```

---

### 🟡 9. 모니터링/로깅 계획 없음

**문제점:**
배포 후 모니터링 계획 전무

**질문:**
- 에러 발생 시 어떻게 알 수 있나?
- 어느 지역에서 트래픽이 많은지 파악 방법은?

**제안:**
Phase 7에 모니터링 추가:
```
- Vercel Analytics 활성화
- Error 로깅 (Sentry 등)
- 지역별 트래픽 대시보드
```

---

## 결론: 권장 조치

| 우선순위 | 조치 |
|----------|------|
| **P0** | 기존 코드 상태와 계획서 동기화 |
| **P0** | Phase 순서 재배치 (DB 먼저) |
| **P1** | Tier별 실제 콘텐츠 양 확인 |
| **P1** | 개발 일정 추가 |
| **P2** | 테스트 자동화 방안 수립 |
| **P2** | SEO 작업 Phase에 명시 |

---

## 총평

이 계획서는 **구조는 좋으나 현실과 괴리**가 있습니다.

**장점:**
- Phase별 명확한 분리
- Risk Assessment 포함
- Dependencies 명시

**단점:**
- 이미 존재하는 코드 무시
- 일정 부재
- 실제 데이터 기반 검증 없음
- 테스트/모니터링 전략 부족

**권장:**
계획서를 수정하거나, "현재 상태 → 남은 작업" 형태로 재구성하는 것이 효율적입니다.

---

*이 의견서는 개발 착수 전 리스크를 줄이기 위한 건설적 비판입니다.*
