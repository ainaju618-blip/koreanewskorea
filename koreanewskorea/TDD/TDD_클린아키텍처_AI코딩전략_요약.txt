# TDD와 클린 아키텍처: AI 시대의 코딩 전략

## 핵심 주제
AI 코딩 시대에 TDD(테스트 주도 개발)와 클린 아키텍처를 활용하면 컨텍스트 관리가 효율적이 되어, 여러 세션에 걸친 개발에서도 일관성 있는 고품질 코드를 작성할 수 있다.

---

## 상세 내용

### 1. TDD (Test Driven Development)
테스트 주도 개발의 3단계 사이클:

- **Red Phase (레드 페이스)**
  - 테스트 코드를 먼저 작성
  - 실제 구현 코드가 없으므로 모든 테스트 실패 (빨간색)
  - 예: `a + b` 함수의 성공/실패 케이스 테스트 작성

- **Green Phase (그린 페이스)**
  - 테스트를 통과할 수 있는 최소한의 구현 코드 작성
  - 테스트 성공 (녹색)
  - 코드 품질보다 통과에 집중

- **Refactor Phase (리팩터 페이스)**
  - 구현 코드의 품질 향상
  - 변수명 명확화, 로직 가독성 개선
  - 테스트 통과 상태 유지하며 개선

**AI 시대 TDD의 장점:**
- 테스트 코드 자체가 **컨텍스트**가 됨
- 세션이 끊어져도 테스트 코드 기반으로 AI가 구현 방향 파악 가능
- 대규모 리팩터링/피처 추가 시 수정 범위 명확화
- TDD의 유일한 단점(시간 소요)을 AI가 상쇄 → 장점만 극대화

---

### 2. 클린 아키텍처 (Clean Architecture)

**Layered Architecture (기존 방식) 문제점:**
- 위에서 아래로 종속 구조
- 하나 변경 시 넓은 컨텍스트 필요
- 작은 수정이 큰 영향(Implication) 발생

**클린 아키텍처 특징:**
- 도메인 모델이 중앙에 위치
- 외부에서 내부로 의존 (의존성 역전)
- 핵사고날, 포트-어댑터 패턴 등과 유사
- 핵심 폴더 구조: `Domain`, `Application`, `Infrastructure`, `Presentation`

**AI 시대 클린 아키텍처의 장점:**
- 의존성이 끊어져 컨텍스트 분리 가능
- 레고 블록처럼 독립적 코딩 가능
- 큰 프로젝트에서도 효율적 컨텍스트 소비
- 바이브코딩 초보의 "컨텍스트 부족", "연쇄 파괴" 문제 해결

---

### 3. Feature Planner 스킬 (Claude Skill)
코드팩토리가 공개한 **Claude 스킬** 핵심 기능:

| 구성요소 | 설명 |
|---------|------|
| TDD 워크플로 | Red → Green → Refactor 단계별 명세 |
| 플랜 템플릿 | `plan_template.md` 링크로 필요시만 컨텍스트 소비 |
| Quality Gate | 다음 작업 전 체크리스트 (빌드/린트/테스트) |
| 아키텍처 섹션 | 클린 아키텍처 등 구조 명시 영역 |
| 테스트 가이드 | Unit / Integration / E2E 테스트 기준 |
| 사용자 질문 | 불명확 시 기술/스택/구조 확인 유도 |

**사용법 예시:**
```
피처 플래너 스킬을 사용해서 클린 아키텍처 구조로 쇼핑몰 사이트를 계획해 줘
```

**생성되는 플랜 문서:**
- 제목, 생성일, 업데이트일, 예상 소요시간
- 상태 관리 (In Progress → Done)
- Phase별 Red/Green/Refactor 체크리스트
- Quality Gate 검증 항목 (테스트 커버리지 90% 등)
- 수동 체크 항목

---

## 인사이트

> **"TDD + 클린 아키텍처 = AI 시대 최적 개발 전략"**

1. **컨텍스트 영속성**: 테스트 코드가 AI의 나침반 역할
2. **의존성 분리**: 클린 아키텍처로 부분 수정 시 전체 파악 불필요
3. **세션 연속성**: 플랜 문서에 모든 맥락 저장 → 언제든 이어서 작업
4. **품질 보장**: Quality Gate로 단계별 검증 자동화
5. **범용성**: Claude뿐 아니라 Cursor, Copilot 등에도 적용 가능

**추천**: 이 개념들을 깊이 배우면 "코딩 삶이 바뀐다" (by 코드팩토리)

---
Video URL: https://www.youtube.com/watch?v=MDAfjhFC9E4
Summary Generated: 2025-12-24
