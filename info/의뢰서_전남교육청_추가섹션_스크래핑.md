# 전남교육청 추가 섹션 스크래핑 봇 개발 의뢰서

> **작성일:** 2025-12-29
> **프로젝트:** Korea NEWS (koreanewsone.com)
> **의뢰 목적:** 전남교육청 보도자료 추가 섹션(기관/학교) 스크래핑 구조 분석 및 봇 개발

---

## 1. 현황

### 1.1 기존 스크래핑 현황

현재 전남교육청(전남교육통) 사이트에서 **본청** 보도자료만 수집 중입니다.

| 구분 | 섹션코드 | URL | 상태 |
|------|----------|-----|------|
| 본청 | S1N1 | `articleList.html?sc_section_code=S1N1` | ✅ 수집 중 |
| 기관 | S1N2 | `articleList.html?sc_section_code=S1N2` | ❌ 미수집 |
| 학교 | S1N3 | `articleList.html?sc_section_code=S1N3` | ❌ 미수집 |

### 1.2 기존 스크래퍼 파일

```
scrapers/jeonnam_edu/jeonnam_edu_scraper.py
```

- Playwright 기반 (headless Chrome)
- 목록 페이지 → 상세 페이지 순회 방식
- 이미지 Cloudinary 업로드 포함

---

## 2. 추가 수집 대상

### 2.1 기관 보도자료 (S1N2)

**URL:** https://www.jnedu.kr/news/articleList.html?sc_section_code=S1N2&view_type=sm

- 교육지원청, 직속기관 등의 보도자료
- 예상 기사 수: 수천 건

### 2.2 학교 보도자료 (S1N3)

**URL:** https://www.jnedu.kr/news/articleList.html?sc_section_code=S1N3&view_type=sm

- 각 학교(초/중/고)의 보도자료
- 예상 기사 수: 수만 건

---

## 3. 분석 요청 사항

### 3.1 구조 분석

다음 항목에 대한 구조 분석을 요청드립니다:

1. **목록 페이지 구조**
   - 기사 목록 컨테이너 CSS 셀렉터
   - 개별 기사 항목 셀렉터
   - 기사 제목/링크 셀렉터
   - 날짜 정보 위치 (목록에 있는지, 상세에만 있는지)
   - 페이지네이션 구조

2. **상세 페이지 구조**
   - 제목 셀렉터
   - 본문 컨테이너 셀렉터
   - 이미지 셀렉터 (figure.photo-layout 등)
   - 날짜/시간 셀렉터
   - 작성자/담당부서 셀렉터

3. **S1N1과의 차이점**
   - 본청(S1N1)과 기관(S1N2)/학교(S1N3)의 페이지 구조가 동일한지
   - 동일하다면 기존 스크래퍼 재사용 가능 여부
   - 다르다면 어떤 부분이 다른지

### 3.2 확인 필요 사항

- 403 차단 여부 (User-Agent, Referer 필요 여부)
- JavaScript 렌더링 필요 여부
- 페이지당 기사 수
- 총 페이지 수 (S1N2, S1N3 각각)

---

## 4. 기술 스펙

### 4.1 기존 스크래퍼 구조

```python
# 주요 상수
BASE_URL = 'https://www.jnedu.kr'
LIST_URL = 'https://www.jnedu.kr/news/articleList.html?sc_section_code=S1N1&view_type=sm'

# 목록 페이지 셀렉터
ARTICLE_LINK_SELECTOR = 'section ul li h4 a[href*="articleView"]'

# 상세 페이지 셀렉터
DETAIL_TITLE_SELECTOR = 'header.article-view-header h2.heading'
DETAIL_CONTENT_SELECTOR = 'article#article-view-content-div'
DETAIL_DATE_SELECTOR = 'header.article-view-header ul.infomation li'
DETAIL_IMAGE_SELECTOR = 'figure.photo-layout img'
```

### 4.2 기술 스택

- Python 3.x
- Playwright (sync_api)
- Cloudinary (이미지 업로드)
- Supabase (데이터 저장)

### 4.3 저장 데이터 형식

```python
article_data = {
    'title': str,           # 기사 제목
    'subtitle': str,        # 부제목 (있으면)
    'content': str,         # 본문 내용
    'published_at': str,    # ISO 8601 형식 (2025-12-29T09:00:00+09:00)
    'original_link': str,   # 원본 URL
    'source': str,          # '전남교육청' 또는 '전남교육청 기관' 등
    'category': str,        # 자동 분류 (전남, 교육 등)
    'region': str,          # 'jeonnam_edu'
    'thumbnail_url': str,   # Cloudinary URL
    'department': str,      # 담당부서 (선택)
}
```

---

## 5. 기대 산출물

### 5.1 구조 분석 보고서

```markdown
## 분석 결과

### 목록 페이지 (S1N2 기관)
- 총 기사 수: N건
- 페이지당 기사 수: N건
- 기사 목록 셀렉터: 'xxx'
- 기사 링크 셀렉터: 'xxx'
- ...

### 목록 페이지 (S1N3 학교)
- (동일 형식)

### 상세 페이지
- S1N1과 동일 여부: O/X
- (다르다면 차이점)

### 권장 구현 방식
- (기존 스크래퍼 확장 or 별도 스크래퍼)
```

### 5.2 스크래퍼 코드 (선택)

구조 분석 후 스크래퍼 코드 작성까지 요청 시:

- `jeonnam_edu_scraper.py` 수정 또는
- 별도 `jeonnam_edu_org_scraper.py`, `jeonnam_edu_school_scraper.py` 작성

---

## 6. 참고 자료

### 6.1 기존 스크래퍼 전체 코드

파일 위치: `scrapers/jeonnam_edu/jeonnam_edu_scraper.py`

(별도 첨부 또는 Git 저장소 접근 권한 제공)

### 6.2 사이트 접근 정보

- 사이트: https://www.jnedu.kr
- 로그인 불필요 (공개 보도자료)
- robots.txt 확인 필요

---

## 7. 일정 및 연락처

- **희망 완료일:** (협의)
- **담당자:** (연락처)
- **추가 문의:** (이메일/메신저)

---

## 8. 비고

- 수집된 기사는 지역뉴스 포털(koreanewsone.com)에 게시됩니다
- 출처(전남교육청)를 명시하여 보도자료를 재배포합니다
- 상업적 목적이 아닌 지역 정보 제공 목적입니다

---

*Korea NEWS Team*
