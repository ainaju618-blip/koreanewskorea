"""
일간운세 해석문 데이터 (384효 × 3변형 = 1,152개)

구조:
- headline: 대제목 (15-25자) - 오늘의 핵심 메시지
- body: 본문 (50-70자, 2문장) - 상황 설명 + 행동 지침

변형 테마:
- v1: 일/직장/성취 중심
- v2: 관계/소통 중심
- v3: 내면/선택/마음 중심

작성 원칙:
- 괘 이름 절대 사용 금지 (사용자는 관심 없음)
- 철학적/종교적 표현 금지
- 즉시 이해 가능한 쉬운 표현
- 구체적 행동 지침 포함
"""

from typing import Dict, List, Tuple, Any

# 일간운세 데이터: (괘번호, 효위치) -> [변형1, 변형2, 변형3]
DAILY_FORTUNE: Dict[Tuple[int, int], List[Dict[str, str]]] = {}


# =============================================================================
# 제1괘 건(乾) - 초구~상구
# =============================================================================

DAILY_FORTUNE[(1, 1)] = [
    # 잠룡물용 - 때를 기다려야 함 (평)
    {
        "headline": "때를 기다리는 지혜가 필요한 날",
        "body": "조급함이 오히려 일을 그르친다. 오늘은 새 시작보다 기존 일을 다지는 데 집중하라."
    },
    {
        "headline": "숨은 실력을 기르는 하루",
        "body": "드러나려 하지 마라. 지금은 조용히 준비하는 시간이다. 때가 오면 자연히 빛난다."
    },
    {
        "headline": "인내가 최고의 전략인 날",
        "body": "서두르면 손해다. 마음을 가라앉히고 차분히 상황을 지켜보라. 기회는 곧 온다."
    }
]

DAILY_FORTUNE[(1, 2)] = [
    # 현룡재전 - 귀인을 만남 (길)
    {
        "headline": "좋은 인연이 찾아오는 날",
        "body": "오늘 만나는 사람에게 집중하라. 도움을 줄 귀인이 가까이 있다. 적극적으로 다가가라."
    },
    {
        "headline": "능력을 드러낼 기회가 온다",
        "body": "숨겨왔던 실력을 보여줄 때다. 겸손하되 자신감 있게 표현하라. 인정받을 것이다."
    },
    {
        "headline": "협력이 성공을 부르는 하루",
        "body": "혼자 하려 하지 마라. 주변의 조언을 구하면 일이 술술 풀린다. 함께할 때 더 크다."
    }
]

DAILY_FORTUNE[(1, 3)] = [
    # 종일건건 - 끊임없이 노력 (평)
    {
        "headline": "성실함이 답인 하루",
        "body": "화려한 성과보다 묵묵한 노력이 중요하다. 작은 일도 대충하지 마라. 쌓인 것이 결과가 된다."
    },
    {
        "headline": "긴장을 늦추지 말아야 할 때",
        "body": "잘 되고 있다고 방심하면 안 된다. 마무리까지 집중하라. 끝까지 가야 성공이다."
    },
    {
        "headline": "꾸준함이 빛나는 날",
        "body": "급한 성과를 바라지 마라. 오늘 한 노력이 내일의 토대가 된다. 묵묵히 전진하라."
    }
]

DAILY_FORTUNE[(1, 4)] = [
    # 혹약재연 - 도약의 기회 (길)
    {
        "headline": "도약을 결심할 때가 왔다",
        "body": "기회가 눈앞에 있다. 망설이면 놓친다. 준비됐다면 과감히 뛰어들어라."
    },
    {
        "headline": "한 단계 올라설 수 있는 날",
        "body": "변화를 두려워하지 마라. 지금 움직이면 더 높은 곳에 설 수 있다. 용기를 내라."
    },
    {
        "headline": "결단이 필요한 시점",
        "body": "이것저것 재지 마라. 직감을 믿고 선택하라. 행동하는 자가 결과를 얻는다."
    }
]

DAILY_FORTUNE[(1, 5)] = [
    # 비룡재천 - 최고의 운세 (대길)
    {
        "headline": "모든 일이 술술 풀리는 날",
        "body": "하고 싶었던 일을 시작하라. 지금 시작하면 성공한다. 자신감을 갖고 크게 움직여라."
    },
    {
        "headline": "원하던 것을 얻는 하루",
        "body": "오늘은 당신의 날이다. 적극적으로 요청하고 제안하라. 좋은 결과가 따라온다."
    },
    {
        "headline": "최고의 성과를 거두는 때",
        "body": "망설일 이유가 없다. 큰 그림을 그리고 실행하라. 귀인이 도와 대업을 이룬다."
    }
]

DAILY_FORTUNE[(1, 6)] = [
    # 항룡유회 - 너무 높이 오름 (흉)
    {
        "headline": "한 발 물러서야 할 때",
        "body": "욕심을 내려놓아라. 더 올라가려 하면 떨어진다. 지금 가진 것에 감사하라."
    },
    {
        "headline": "겸손이 필요한 하루",
        "body": "자만하면 손해 본다. 주변 조언에 귀 기울이고 낮은 자세를 유지하라."
    },
    {
        "headline": "멈춤이 지혜인 날",
        "body": "더 나아가려 하지 마라. 지금 위치에서 안정을 찾아라. 후퇴가 전진이 될 때다."
    }
]


# =============================================================================
# 제2괘 곤(坤) - 초육~상육
# =============================================================================

DAILY_FORTUNE[(2, 1)] = [
    # 이상견빙 - 조심스러운 시작 (평)
    {
        "headline": "신중하게 첫발을 내딛어라",
        "body": "작은 징조를 놓치지 마라. 시작이 중요한 때다. 천천히 그러나 확실하게 움직여라."
    },
    {
        "headline": "조심스럽게 살펴야 할 하루",
        "body": "섣부른 판단은 금물이다. 주변 상황을 면밀히 관찰하라. 작은 신호가 방향을 알려준다."
    },
    {
        "headline": "기초를 다지는 시간",
        "body": "큰일보다 기본에 충실하라. 기초가 튼튼해야 나중에 흔들리지 않는다."
    }
]

DAILY_FORTUNE[(2, 2)] = [
    # 직방대 - 곧고 크게 (길)
    {
        "headline": "정직함이 통하는 날",
        "body": "꾸미지 말고 있는 그대로 보여라. 진심이 통하는 하루다. 솔직함이 신뢰를 얻는다."
    },
    {
        "headline": "넓은 마음으로 포용하라",
        "body": "작은 것에 얽매이지 마라. 큰 그림을 보면 길이 보인다. 관대함이 행운을 부른다."
    },
    {
        "headline": "순리대로 흘러가는 하루",
        "body": "억지로 밀어붙이지 마라. 자연스럽게 따르면 일이 풀린다. 흐름을 믿어라."
    }
]

DAILY_FORTUNE[(2, 3)] = [
    # 함장가정 - 재능을 숨기고 마무리 (평)
    {
        "headline": "드러내기보다 마무리에 집중",
        "body": "자랑하고 싶겠지만 참아라. 결과물로 말하게 하라. 완성도가 인정받는 길이다."
    },
    {
        "headline": "뒤에서 묵묵히 일할 때",
        "body": "스포트라이트를 탐내지 마라. 실력을 쌓는 데 집중하면 때가 온다."
    },
    {
        "headline": "겸손하게 마무리하라",
        "body": "성과가 있어도 자랑하지 마라. 조용히 정리하고 다음을 준비하라."
    }
]

DAILY_FORTUNE[(2, 4)] = [
    # 괄낭 - 주머니를 묶다 (평)
    {
        "headline": "말을 아껴야 할 하루",
        "body": "불필요한 말이 화를 부른다. 입을 다물고 행동으로 보여라. 침묵이 금이다."
    },
    {
        "headline": "지출과 에너지를 아껴라",
        "body": "쓸데없이 소비하지 마라. 돈이든 시간이든 아끼는 것이 이득이다."
    },
    {
        "headline": "조심스럽게 움츠릴 때",
        "body": "적극적으로 나서지 마라. 상황을 지켜보며 때를 기다리는 것이 현명하다."
    }
]

DAILY_FORTUNE[(2, 5)] = [
    # 황상원길 - 노란 치마, 크게 길함 (대길)
    {
        "headline": "중심을 잡으면 크게 이루는 날",
        "body": "극단을 피하고 균형을 유지하라. 조화로운 태도가 최고의 결과를 만든다."
    },
    {
        "headline": "겸손과 품격이 빛나는 하루",
        "body": "화려함보다 내실이 중요하다. 진정성 있는 태도가 모두의 존경을 받는다."
    },
    {
        "headline": "조화로움이 성공을 부른다",
        "body": "이것저것 챙기려 하지 마라. 핵심에 집중하면 저절로 다 얻어진다."
    }
]

DAILY_FORTUNE[(2, 6)] = [
    # 용전우야 - 용이 들에서 싸움 (흉)
    {
        "headline": "충돌을 피해야 하는 날",
        "body": "맞서 싸우면 둘 다 다친다. 한 발 물러나 상황을 진정시켜라. 승자 없는 싸움이다."
    },
    {
        "headline": "갈등이 예상되는 하루",
        "body": "자존심 세우다 큰 걸 잃는다. 이기려 하지 말고 평화를 선택하라."
    },
    {
        "headline": "다툼을 멀리해야 할 때",
        "body": "논쟁에 끼어들지 마라. 어느 편도 들지 말고 중립을 지켜라. 조용히 있는 게 상책이다."
    }
]


# =============================================================================
# 제3괘 둔(屯) - 초구~상육
# =============================================================================

DAILY_FORTUNE[(3, 1)] = [
    # 반환 - 머뭇거림 (평)
    {
        "headline": "서두르지 말고 준비하라",
        "body": "당장 결과를 바라지 마라. 기반을 다지는 시간이 필요하다. 단단히 뿌리내려라."
    },
    {
        "headline": "시작이 어려운 하루",
        "body": "막혀 있다고 포기하지 마라. 어려움 속에서 기초가 만들어진다. 인내하라."
    },
    {
        "headline": "기초 공사가 필요한 때",
        "body": "겉으로 드러나는 성과는 없지만 중요한 작업이 진행 중이다. 묵묵히 하라."
    }
]

DAILY_FORTUNE[(3, 2)] = [
    # 둔여반여 - 어려움이 겹침 (평)
    {
        "headline": "고비를 넘겨야 하는 날",
        "body": "한꺼번에 풀리지 않는다. 하나씩 차근차근 해결하라. 급하게 굴면 더 꼬인다."
    },
    {
        "headline": "예상치 못한 변수가 생긴다",
        "body": "계획대로 되지 않아도 당황하지 마라. 유연하게 대응하면 돌파구가 보인다."
    },
    {
        "headline": "도움의 손길을 기다려라",
        "body": "혼자 해결하려 하지 마라. 때가 되면 도와줄 사람이 나타난다. 조금만 참아라."
    }
]

DAILY_FORTUNE[(3, 3)] = [
    # 즉록무우 - 사슴을 쫓다 길을 잃음 (흉)
    {
        "headline": "욕심을 버려야 하는 날",
        "body": "눈앞의 이익에 현혹되지 마라. 갖고 싶다고 무턱대고 쫓으면 길을 잃는다."
    },
    {
        "headline": "방향을 점검해야 할 때",
        "body": "지금 가는 길이 맞는지 확인하라. 잘못된 방향이면 빨리 돌아와야 손해가 적다."
    },
    {
        "headline": "충동적 결정을 피하라",
        "body": "순간의 판단이 큰 실수를 부른다. 충분히 생각한 후에 움직여라."
    }
]

DAILY_FORTUNE[(3, 4)] = [
    # 승마반여 - 말을 타고 배회함 (평→길)
    {
        "headline": "도움을 요청하면 풀리는 날",
        "body": "혼자 고민하지 마라. 주변에 손을 내밀면 기꺼이 도와줄 사람이 있다."
    },
    {
        "headline": "좋은 제안이 들어온다",
        "body": "망설이지 말고 받아들여라. 지금 온 기회가 돌파구가 된다. 열린 마음으로 임하라."
    },
    {
        "headline": "인연이 길을 열어주는 하루",
        "body": "우연한 만남도 소홀히 하지 마라. 그 사람이 해결책을 가져다줄 수 있다."
    }
]

DAILY_FORTUNE[(3, 5)] = [
    # 둔기고 - 은혜를 베풀기 어려움 (평)
    {
        "headline": "작은 것부터 나누는 연습",
        "body": "큰 것을 주려 하지 마라. 작은 친절이 쌓여 큰 복이 된다. 할 수 있는 만큼만 하라."
    },
    {
        "headline": "마음은 있지만 여력이 없는 날",
        "body": "도와주고 싶어도 한계가 있다. 무리하지 마라. 나중에 더 잘 도울 수 있다."
    },
    {
        "headline": "내 것을 먼저 챙겨야 할 때",
        "body": "남을 돕기 전에 내 상황을 안정시켜라. 빈 컵으로는 남에게 줄 수 없다."
    }
]

DAILY_FORTUNE[(3, 6)] = [
    # 입읍탁혈 - 눈물 흘림 (흉)
    {
        "headline": "감정을 추스려야 하는 날",
        "body": "힘든 일이 있어도 무너지지 마라. 지금 눈물은 나중 웃음의 씨앗이다."
    },
    {
        "headline": "어려운 상황이지만 버텨라",
        "body": "지금 당장은 괴롭다. 하지만 이것도 지나간다. 견디면 더 강해진다."
    },
    {
        "headline": "무리한 추진을 멈춰야 할 때",
        "body": "더 이상 밀어붙이면 상처만 커진다. 멈추고 회복할 시간을 가져라."
    }
]


# =============================================================================
# 제4괘 몽(蒙) - 초육~상구
# =============================================================================

DAILY_FORTUNE[(4, 1)] = [
    # 발몽 - 어리석음을 깨우침 (평)
    {
        "headline": "배움이 필요한 하루",
        "body": "모르면 물어라. 자존심 세우다 기회를 놓친다. 겸손하게 배우는 자가 성장한다."
    },
    {
        "headline": "기본으로 돌아가야 할 때",
        "body": "복잡하게 생각하지 마라. 기초부터 다시 점검하면 답이 보인다."
    },
    {
        "headline": "초심으로 시작하라",
        "body": "아는 척하지 마라. 처음 배우는 마음으로 임하면 새로운 길이 열린다."
    }
]

DAILY_FORTUNE[(4, 2)] = [
    # 포몽 - 어린아이를 감싸줌 (길)
    {
        "headline": "포용하면 좋은 일이 생기는 날",
        "body": "남의 실수를 탓하지 마라. 넓은 마음으로 감싸주면 신뢰와 협력을 얻는다."
    },
    {
        "headline": "리더십을 발휘할 기회",
        "body": "주변을 이끌어야 할 때다. 다그치지 말고 이해하며 이끌어라. 따르는 사람이 생긴다."
    },
    {
        "headline": "배려가 결실을 맺는 하루",
        "body": "작은 친절이 큰 보답으로 돌아온다. 베푸는 마음을 잃지 마라."
    }
]

DAILY_FORTUNE[(4, 3)] = [
    # 물용취녀 - 여자를 취하지 마라 (흉)
    {
        "headline": "겉모습에 속지 마라",
        "body": "화려해 보여도 실속이 없다. 눈에 보이는 것만 보고 결정하면 후회한다."
    },
    {
        "headline": "충동적 선택을 경계하라",
        "body": "지금 끌리는 것이 정답이 아니다. 시간을 두고 판단하라. 급하면 손해 본다."
    },
    {
        "headline": "달콤한 제안을 의심하라",
        "body": "너무 좋은 조건에는 함정이 있다. 꼼꼼히 따져보고 결정해도 늦지 않다."
    }
]

DAILY_FORTUNE[(4, 4)] = [
    # 곤몽 - 어리석음에 갇힘 (흉)
    {
        "headline": "혼자 끙끙대지 말고 도움을 청하라",
        "body": "고집부리면 더 꼬인다. 솔직히 모른다고 인정하고 배워라. 그게 빠른 길이다."
    },
    {
        "headline": "갇힌 생각에서 벗어나라",
        "body": "같은 생각만 반복하면 답이 안 나온다. 다른 관점을 구하라. 밖에 해답이 있다."
    },
    {
        "headline": "막혀 있다면 방향을 바꿔라",
        "body": "안 되는 일에 매달리지 마라. 돌아가는 길이 오히려 빠를 수 있다."
    }
]

DAILY_FORTUNE[(4, 5)] = [
    # 동몽 - 순수한 어린아이 (길)
    {
        "headline": "순수한 마음이 행운을 부르는 날",
        "body": "복잡하게 계산하지 마라. 솔직하고 단순하게 접근하면 일이 잘 풀린다."
    },
    {
        "headline": "처음 품은 마음을 지켜라",
        "body": "이해관계에 흔들리지 마라. 본래 의도대로 가면 좋은 결과가 따라온다."
    },
    {
        "headline": "진심이 통하는 하루",
        "body": "꾸미지 않은 태도가 신뢰를 얻는다. 있는 그대로 보여주면 인정받는다."
    }
]

DAILY_FORTUNE[(4, 6)] = [
    # 격몽 - 어리석음을 꾸짖음 (평)
    {
        "headline": "엄격한 기준이 필요한 날",
        "body": "너무 관대하면 일이 흐트러진다. 선을 분명히 하고 원칙을 지켜라."
    },
    {
        "headline": "단호함이 필요한 시점",
        "body": "적당히 넘어가면 안 된다. 문제가 있으면 바로잡아라. 엄격함이 결국 도움이 된다."
    },
    {
        "headline": "스스로를 다잡아야 할 때",
        "body": "나태해지지 마라. 자기 자신에게 엄격해야 목표에 도달할 수 있다."
    }
]


# =============================================================================
# 제5괘 수(需) - 초구~상육
# =============================================================================

DAILY_FORTUNE[(5, 1)] = [
    # 수우교 - 교외에서 기다림 (평)
    {
        "headline": "멀리서 기다리는 것이 상책",
        "body": "아직 때가 아니다. 조급하게 다가가지 말고 일상에 충실하며 기다려라."
    },
    {
        "headline": "준비하며 때를 보는 하루",
        "body": "움직이고 싶어도 참아라. 상황이 무르익을 때까지 내공을 쌓아라."
    },
    {
        "headline": "일상의 리듬을 유지하라",
        "body": "특별한 일을 벌이지 마라. 평소처럼 하면서 기회를 엿보는 것이 현명하다."
    }
]

DAILY_FORTUNE[(5, 2)] = [
    # 수우사 - 모래밭에서 기다림 (평)
    {
        "headline": "작은 불편함은 견딜 때",
        "body": "조금 불안하더라도 버텨라. 이 시간이 지나면 상황이 나아진다."
    },
    {
        "headline": "참고 견디면 풀리는 하루",
        "body": "말다툼이나 시비가 있어도 참아라. 지금 대응하면 커진다. 조용히 넘겨라."
    },
    {
        "headline": "인내가 답인 하루",
        "body": "답답해도 표현하지 마라. 속으로 삼키면 오히려 좋게 풀린다."
    }
]

DAILY_FORTUNE[(5, 3)] = [
    # 수우니 - 진흙탕에서 기다림 (흉)
    {
        "headline": "위험 신호를 무시하지 마라",
        "body": "진흙탕에 빠질 수 있다. 무리하게 전진하지 말고 상황을 재점검하라."
    },
    {
        "headline": "조심해야 할 곳에 있는 하루",
        "body": "주변이 불안정하다. 확실하지 않으면 행동을 미뤄라. 지금은 관망이 현명하다."
    },
    {
        "headline": "깊이 들어가지 마라",
        "body": "더 관여하면 발이 묶인다. 거리를 두고 지켜보는 것이 안전하다."
    }
]

DAILY_FORTUNE[(5, 4)] = [
    # 수우혈 - 피웅덩이에서 기다림 (흉→평)
    {
        "headline": "위기 상황이지만 침착하라",
        "body": "어려운 상황이다. 하지만 날뛰면 더 나빠진다. 차분하게 빠져나올 방법을 찾아라."
    },
    {
        "headline": "조용히 물러나야 할 때",
        "body": "지금 자리가 위험하다. 욕심 부리지 말고 안전한 곳으로 이동하라."
    },
    {
        "headline": "순리에 따라 움직여라",
        "body": "억지로 해결하려 하면 상처뿐이다. 흐름에 맡기면 길이 열린다."
    }
]

DAILY_FORTUNE[(5, 5)] = [
    # 수우주식 - 술과 음식을 기다림 (길)
    {
        "headline": "여유롭게 즐길 수 있는 날",
        "body": "좋은 일이 찾아온다. 긴장을 풀고 여유를 가져라. 즐거운 만남이 있을 수 있다."
    },
    {
        "headline": "기다린 보상이 오는 하루",
        "body": "참고 버틴 것이 결실을 맺는다. 오늘은 편하게 쉬어도 좋다."
    },
    {
        "headline": "작은 행복을 누려라",
        "body": "맛있는 것을 먹거나 좋아하는 일을 하라. 활력을 충전하는 시간이다."
    }
]

DAILY_FORTUNE[(5, 6)] = [
    # 입우혈 - 웅덩이에 들어감 (흉→길)
    {
        "headline": "예상 밖의 도움이 온다",
        "body": "어려운 상황이라도 포기하지 마라. 생각지 못한 곳에서 구원의 손길이 온다."
    },
    {
        "headline": "끝이라 생각할 때 반전이 있다",
        "body": "절망하기엔 이르다. 손님이 찾아오듯 도움이 올 것이다. 마음을 열어두어라."
    },
    {
        "headline": "어둠 끝에 빛이 보인다",
        "body": "힘들었던 시간이 끝나간다. 조금만 더 버티면 상황이 호전된다."
    }
]


# =============================================================================
# 추가 괘들은 generate_daily_fortune.py 스크립트로 자동 생성
# 현재는 1~5괘의 예시 데이터만 포함
# =============================================================================


def get_daily_fortune(hexagram_number: int, yao_position: int, variation: int = 0) -> Dict[str, str]:
    """
    일간운세 해석문 조회

    Args:
        hexagram_number: 괘 번호 (1-64)
        yao_position: 효 위치 (1-6)
        variation: 변형 번호 (0-2)

    Returns:
        {"headline": "...", "body": "..."}
    """
    key = (hexagram_number, yao_position)
    if key not in DAILY_FORTUNE:
        # 기본값 반환 (데이터 없을 경우)
        return {
            "headline": "오늘 하루도 순조롭게",
            "body": "평온한 마음으로 하루를 보내라. 작은 일에 감사하며 성실히 임하면 좋은 결과가 따른다."
        }

    fortunes = DAILY_FORTUNE[key]
    idx = variation % len(fortunes)
    return fortunes[idx]


def get_random_daily_fortune(hexagram_number: int, yao_position: int) -> Dict[str, str]:
    """
    랜덤하게 변형 선택하여 일간운세 반환
    """
    import random
    variation = random.randint(0, 2)
    return get_daily_fortune(hexagram_number, yao_position, variation)
