# ì£¼ì—­ì  í”„ë¡œì íŠ¸ íŒŒì¼ ìµœì í™” ê³„íšì„œ

## ğŸ“Š í˜„ì¬ ìƒíƒœ ë¶„ì„

### í”„ë¡œì íŠ¸ êµ¬ì¡° ìš”ì•½
```
yu-1/
â”œâ”€â”€ backend/          # FastAPI ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ app/data/     # ë°ì´í„° íŒŒì¼ (Python, JSON)
â”‚   â”œâ”€â”€ data/         # ì¶”ê°€ ë°ì´í„° (CSV, JSON, DB)
â”‚   â””â”€â”€ scripts/      # ì¼íšŒì„± ìŠ¤í¬ë¦½íŠ¸ (16ê°œ)
â”œâ”€â”€ frontend/         # Next.js í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ src/components/  # ì»´í¬ë„ŒíŠ¸ (9ê°œ)
â”‚   â””â”€â”€ public/videos/   # ì˜ìƒ íŒŒì¼
â””â”€â”€ data/             # ë£¨íŠ¸ ë°ì´í„° í´ë” (17ê°œ JSON + PDF + MP4)
```

---

## ğŸš¨ ë¬¸ì œì  1: ì¤‘ë³µ íŒŒì¼

### 1.1 ë™ì˜ìƒ íŒŒì¼ ì¤‘ë³µ (3.4MB Ã— 2 = 6.8MB ë‚­ë¹„)
| ìœ„ì¹˜ | íŒŒì¼ëª… | í¬ê¸° |
|------|--------|------|
| `data/` | Ancient_Chinese_Coins_Cosmic_Animation.mp4 | 3.4MB |
| `frontend/public/videos/` | Ancient_Chinese_Coins_Cosmic_Animation.mp4 | 3.4MB |

**í•´ê²°**: `data/` í´ë”ì˜ MP4 ì‚­ì œ (frontendì—ì„œë§Œ ì‚¬ìš©)

### 1.2 384íš¨ ë°ì´í„° ì¤‘ë³µ (ì•½ 1.2MB ë‚­ë¹„)
| íŒŒì¼ | í¬ê¸° | ë¼ì¸ | ìš©ë„ |
|------|------|------|------|
| `backend/data/hexagram_384yao.json` | 302KB | 10,023 | JSON í˜•ì‹ |
| `backend/data/hexagram_384yao_full.json` | 350KB | 10,791 | í™•ì¥ JSON |
| `backend/app/data/yao_complete.py` | ~200KB | 4,333 | Python dict |
| `backend/app/data/yao_phrases/*.json` | ~25KBÃ—64 | 64íŒŒì¼ | ê°œë³„ ê´˜ JSON |

**í•´ê²°**:
- DB ê¸°ë°˜ìœ¼ë¡œ í†µí•© (SQLite `iching.db` ì´ë¯¸ ì¡´ì¬)
- Python dict â†’ DB ì¡°íšŒë¡œ ì „í™˜
- JSON íŒŒì¼ë“¤ì€ ë°±ì—… í›„ ì‚­ì œ

---

## ğŸš¨ ë¬¸ì œì  2: ë¯¸ì‚¬ìš© íŒŒì¼

### 2.1 ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸/í˜ì´ì§€
| íŒŒì¼ | ë¼ì¸ | ìƒíƒœ |
|------|------|------|
| `frontend/src/app/oldmain.tsx` | 225 | âŒ ì–´ë””ì„œë„ import ì•ˆë¨ |
| `frontend/src/components/CosmicYijingAnimation.tsx` | 408 | âŒ ì–´ë””ì„œë„ import ì•ˆë¨ |

**í•´ê²°**: ë°±ì—… í›„ ì‚­ì œ ë˜ëŠ” `_deprecated/` í´ë”ë¡œ ì´ë™

### 2.2 ì°¸ê³ ìš© íŒŒì¼ (ì½”ë“œë² ì´ìŠ¤ì— ë¶ˆí•„ìš”)
| íŒŒì¼ | í¬ê¸° |
|------|------|
| `data/ì „ì²´ì± íŠ¸ë¡œë°°ìš°ëŠ”ì£¼ì—­_16.pdf` | 8.9MB |

**í•´ê²°**: í”„ë¡œì íŠ¸ ì™¸ë¶€ë¡œ ì´ë™ (Notion/Drive ë“±)

---

## ğŸš¨ ë¬¸ì œì  3: ê³¼ëŒ€ íŒŒì¼ (ë¦¬íŒ©í† ë§ í•„ìš”)

### 3.1 Backend ë°ì´í„° íŒŒì¼
| íŒŒì¼ | ë¼ì¸ | ë¬¸ì œ | í•´ê²°ë°©ì•ˆ |
|------|------|------|----------|
| `yao_complete.py` | 4,333 | ê±°ëŒ€í•œ Python dict | DB ì¡°íšŒë¡œ ì „í™˜ |
| `interpretations_seed.py` | 874 | ì‹œë“œ ë°ì´í„° | DB ë§ˆì´ê·¸ë ˆì´ì…˜ í›„ ì‚­ì œ |
| `hexagram_complete.py` | 713 | í•˜ë“œì½”ë”© ë°ì´í„° | DB ì¡°íšŒë¡œ ì „í™˜ |
| `category_seed.py` | 536 | ì‹œë“œ ë°ì´í„° | DBì— ì´ë¯¸ ìˆìŒ, ì‚­ì œ ê°€ëŠ¥ |
| `psychology_patterns.py` | 480 | íŒ¨í„´ ë°ì´í„° | JSONìœ¼ë¡œ ë¶„ë¦¬ |

### 3.2 Backend ì„œë¹„ìŠ¤ íŒŒì¼
| íŒŒì¼ | ë¼ì¸ | ë¬¸ì œ | í•´ê²°ë°©ì•ˆ |
|------|------|------|----------|
| `divination.py` | 753 | ë‹¨ì¼ íŒŒì¼ì— ëª¨ë“  ë¡œì§ | ì±…ì„ë³„ ë¶„ë¦¬ |
| `llm_validator.py` | 407 | ê²€ì¦ ë¡œì§ ë³µì¡ | ìœ í‹¸ ë¶„ë¦¬ |
| `oracle_generator.py` | 377 | ìƒì„± ë¡œì§ | ëª¨ë“ˆí™” |

### 3.3 Frontend ì»´í¬ë„ŒíŠ¸
| íŒŒì¼ | ë¼ì¸ | ë¬¸ì œ | í•´ê²°ë°©ì•ˆ |
|------|------|------|----------|
| `DivinationFlow.tsx` | 537 | ê±°ëŒ€ ì»´í¬ë„ŒíŠ¸ | ì„œë¸Œ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬ |
| `admin/page.tsx` | 414 | ê´€ë¦¬ì í˜ì´ì§€ | íƒ­ë³„ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ |

---

## ğŸš¨ ë¬¸ì œì  4: ì¼íšŒì„± ìŠ¤í¬ë¦½íŠ¸

### 4.1 scripts/ í´ë” (16ê°œ íŒŒì¼, ~200KB)
| ë¶„ë¥˜ | íŒŒì¼ | ìš©ë„ |
|------|------|------|
| ìƒì„± | `generate_384yao.py` | 384íš¨ ë°ì´í„° ìƒì„± |
| ìƒì„± | `generate_500_interpretations.py` | í•´ì„ 500ê°œ ìƒì„± |
| ë³€í™˜ | `convert_to_consulting_format.py` | í¬ë§· ë³€í™˜ |
| ë³€í™˜ | `merge_english_data.py` | ì˜ë¬¸ ë°ì´í„° ë³‘í•© |
| ê°€ì ¸ì˜¤ê¸° | `import_384yao_sqlite.py` | SQLite ê°€ì ¸ì˜¤ê¸° |
| ê°€ì ¸ì˜¤ê¸° | `import_384yao_to_db.py` | DB ê°€ì ¸ì˜¤ê¸° |
| ë¶„ì„ | `analyze_384_data.py` | ë°ì´í„° ë¶„ì„ |
| í…ŒìŠ¤íŠ¸ | `cast_*.py` (3ê°œ) | ì ê´˜ í…ŒìŠ¤íŠ¸ |
| ë‚´ë³´ë‚´ê¸° | `export_yao_complete_to_csv.py` | CSV ë‚´ë³´ë‚´ê¸° |
| í…ŒìŠ¤íŠ¸ | `test_api.py`, `test_rag.py` | API í…ŒìŠ¤íŠ¸ |

**í•´ê²°**: `_archive/scripts/`ë¡œ ì´ë™ (í•„ìš”ì‹œ ì°¸ì¡°ìš©)

---

## ğŸš¨ ë¬¸ì œì  5: ë£¨íŠ¸ data/ í´ë”

### 5. ì¹´í…Œê³ ë¦¬ë³„ ì§ˆë¬¸ JSON (17ê°œ, ê° ~65KB)
```
data/
â”œâ”€â”€ business.json      (63KB, 500ì¤„)
â”œâ”€â”€ career_1.json      (62KB, 500ì¤„)
â”œâ”€â”€ career_2.json      (67KB, 500ì¤„)
â”œâ”€â”€ daily.json         (61KB, 500ì¤„)
â”œâ”€â”€ destiny.json       (65KB, 500ì¤„)
â”œâ”€â”€ fortune.json       (66KB, 500ì¤„)
â”œâ”€â”€ health_family.json (70KB, 500ì¤„)
â”œâ”€â”€ hobby.json         (69KB, 500ì¤„)
â”œâ”€â”€ housing.json       (61KB, 500ì¤„)
â”œâ”€â”€ legal.json         (65KB, 500ì¤„)
â”œâ”€â”€ love_1.json        (68KB, 500ì¤„)
â”œâ”€â”€ love_2.json        (62KB, 500ì¤„)
â”œâ”€â”€ money_1.json       (61KB, 500ì¤„)
â”œâ”€â”€ money_2.json       (69KB, 500ì¤„)
â”œâ”€â”€ parenting.json     (69KB, 500ì¤„)
â”œâ”€â”€ relationships.json (71KB, 500ì¤„)
â”œâ”€â”€ social.json        (70KB, 500ì¤„)
â”œâ”€â”€ study.json         (64KB, 500ì¤„)
â””â”€â”€ travel.json        (64KB, 500ì¤„)
ì´: ~1.1MB
```

**í•´ê²°**:
- RAG ì„œë¹„ìŠ¤ìš©ì´ë©´ `backend/data/questions/`ë¡œ ì´ë™
- ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ì‚­ì œ

---

## âœ… ìµœì í™” ì‹¤í–‰ ê³„íš

### Phase 1: ì¦‰ì‹œ ì‚­ì œ ê°€ëŠ¥ (ì˜ˆìƒ ì ˆê°: ~15MB)
| ì‘ì—… | ì ˆê° ìš©ëŸ‰ |
|------|----------|
| `data/Ancient_Chinese_Coins_Cosmic_Animation.mp4` ì‚­ì œ | 3.4MB |
| `data/ì „ì²´ì± íŠ¸ë¡œë°°ìš°ëŠ”ì£¼ì—­_16.pdf` ì™¸ë¶€ ì´ë™ | 8.9MB |
| `frontend/src/app/oldmain.tsx` ì‚­ì œ | 8KB |
| `frontend/src/components/CosmicYijingAnimation.tsx` ì‚­ì œ | 15KB |

### Phase 2: ë°ì´í„° í†µí•© (ì˜ˆìƒ ì ˆê°: ~1.5MB)
| ì‘ì—… | ì ˆê° ìš©ëŸ‰ |
|------|----------|
| `backend/data/*.json` ì¤‘ë³µ ì œê±° | 650KB |
| `backend/app/data/yao_phrases/*.json` DB í†µí•© í›„ ì‚­ì œ | 800KB |

### Phase 3: ìŠ¤í¬ë¦½íŠ¸ ì•„ì¹´ì´ë¸Œ (ì •ë¦¬)
| ì‘ì—… | ë‚´ìš© |
|------|------|
| `backend/scripts/` â†’ `_archive/scripts/` ì´ë™ | 16ê°œ íŒŒì¼ |

### Phase 4: ì½”ë“œ ë¦¬íŒ©í† ë§ (í’ˆì§ˆ ê°œì„ )
| ì‘ì—… | ëŒ€ìƒ |
|------|------|
| `yao_complete.py` â†’ DB ì¡°íšŒ | 4,333ì¤„ â†’ ~50ì¤„ |
| `DivinationFlow.tsx` ë¶„ë¦¬ | 537ì¤„ â†’ 3~4ê°œ ì»´í¬ë„ŒíŠ¸ |
| `divination.py` ëª¨ë“ˆí™” | 753ì¤„ â†’ 3ê°œ ì„œë¹„ìŠ¤ |

---

## ğŸ“ˆ ì˜ˆìƒ ê²°ê³¼

### ìš©ëŸ‰ ì ˆê°
| êµ¬ë¶„ | í˜„ì¬ | ìµœì í™” í›„ | ì ˆê° |
|------|------|----------|------|
| ì¤‘ë³µ íŒŒì¼ | ~7MB | 0 | 7MB |
| ë¯¸ì‚¬ìš© íŒŒì¼ | ~9MB | 0 | 9MB |
| ë°ì´í„° ì¤‘ë³µ | ~1.5MB | 0 | 1.5MB |
| **í•©ê³„** | | | **~17.5MB** |

### ì½”ë“œ í’ˆì§ˆ
| ì§€í‘œ | í˜„ì¬ | ëª©í‘œ |
|------|------|------|
| ìµœëŒ€ íŒŒì¼ ë¼ì¸ ìˆ˜ | 4,333ì¤„ | <300ì¤„ |
| ë¯¸ì‚¬ìš© íŒŒì¼ | 2ê°œ | 0ê°œ |
| ì¤‘ë³µ ë°ì´í„° ì†ŒìŠ¤ | 4ê°œ | 1ê°œ (DB) |

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ì‚­ì œ ì „ ë°±ì—… í•„ìˆ˜**: `_backup/` í´ë”ì— ë³´ê´€
2. **DB ì˜ì¡´ì„± í™•ì¸**: `yao_complete.py` ì‚­ì œ ì „ DB ì¡°íšŒ ì½”ë“œ ì™„ì„±
3. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰**: ê° Phase ì™„ë£Œ í›„ `npm run build`, `pytest` ì‹¤í–‰
4. **Git ì»¤ë°‹**: Phaseë³„ë¡œ ì»¤ë°‹í•˜ì—¬ ë¡¤ë°± ê°€ëŠ¥í•˜ê²Œ

---

## ğŸ“ ì‹¤í–‰ ìš°ì„ ìˆœìœ„

1. â­â­â­ **Phase 1** - ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥, ë¦¬ìŠ¤í¬ ì—†ìŒ
2. â­â­ **Phase 3** - ìŠ¤í¬ë¦½íŠ¸ ì •ë¦¬, ë¦¬ìŠ¤í¬ ë‚®ìŒ
3. â­â­ **Phase 2** - ë°ì´í„° í†µí•©, í…ŒìŠ¤íŠ¸ í•„ìš”
4. â­ **Phase 4** - ë¦¬íŒ©í† ë§, ì‹œê°„ ì†Œìš”

---

---

## âœ… ì‹¤í–‰ ì™„ë£Œ ê²°ê³¼ (2025-12-31)

### Phase 1: ì¤‘ë³µ/ë¯¸ì‚¬ìš© íŒŒì¼ ì‚­ì œ âœ…
| ì‘ì—… | ìƒíƒœ |
|------|------|
| `data/Ancient_Chinese_Coins_Cosmic_Animation.mp4` | ì‚­ì œë¨ (3.4MB) |
| `data/ì „ì²´ì± íŠ¸ë¡œë°°ìš°ëŠ”ì£¼ì—­_16.pdf` | `_backup/` ì´ë™ (8.9MB) |
| `frontend/src/app/oldmain.tsx` | ì‚­ì œë¨ |
| `frontend/src/components/CosmicYijingAnimation.tsx` | ì‚­ì œë¨ |

### Phase 2: ë°ì´í„° í†µí•© âœ…
| ì‘ì—… | ìƒíƒœ |
|------|------|
| `backend/data/*.json, *.csv` | `_backup/` ì´ë™ |
| `backend/app/data/yao_phrases/` (64ê°œ) | `_backup/` ì´ë™ |
| `backend/app/data/category_phrases/` | `_backup/` ì´ë™ |
| `backend/app/data/validation/` | ì‚­ì œë¨ |

### Phase 3: ìŠ¤í¬ë¦½íŠ¸ ì•„ì¹´ì´ë¸Œ âœ…
| ì‘ì—… | ìƒíƒœ |
|------|------|
| `backend/scripts/` (16ê°œ íŒŒì¼) | `_archive/` ì´ë™ |
| `backend/data/raw/` | ì‚­ì œë¨ |
| `data/*.json` (17ê°œ ì§ˆë¬¸ íŒŒì¼) | `_backup/` ì´ë™ |

### Phase 4: ì½”ë“œ ë¦¬íŒ©í† ë§ ğŸ“‹ (ì¶”í›„ ì‘ì—…)
ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§ì€ ì•ˆì •ì„±ì„ ìœ„í•´ ë³„ë„ ì‘ì—…ìœ¼ë¡œ ì§„í–‰ ì˜ˆì •:
- `yao_complete.py` (4,333ì¤„) â†’ DB ì¡°íšŒë¡œ ì „í™˜
- `divination.py` (753ì¤„) â†’ ì„œë¹„ìŠ¤ ë¶„ë¦¬
- `DivinationFlow.tsx` (537ì¤„) â†’ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬

### ìµœì¢… í´ë” êµ¬ì¡°
```
yu-1/
â”œâ”€â”€ backend/        1.3MB  (í•µì‹¬ ì½”ë“œë§Œ)
â”œâ”€â”€ frontend/src/   220KB  (í•µì‹¬ ì½”ë“œë§Œ)
â”œâ”€â”€ data/           12MB   (ì´ë¯¸ì§€ í´ë”ë§Œ)
â”œâ”€â”€ _backup/        16MB   (ë³µì›ìš© ë°±ì—…)
â””â”€â”€ _archive/       232KB  (ì°¸ì¡°ìš© ìŠ¤í¬ë¦½íŠ¸)
```

### í”„ë¡œì íŠ¸ íŒŒì¼ ìˆ˜
- ìµœì í™” ì „: ~150ê°œ íŒŒì¼
- ìµœì í™” í›„: **68ê°œ íŒŒì¼**

### ë¹Œë“œ í…ŒìŠ¤íŠ¸
```
âœ“ npm run build - ì„±ê³µ (1.1ì´ˆ)
âœ“ ëª¨ë“  ë¼ìš°íŠ¸ ì •ìƒ ìƒì„±
```

---

*ì‘ì„±ì¼: 2025-12-31*
*ì‘ì„±ì: Claude Code*
