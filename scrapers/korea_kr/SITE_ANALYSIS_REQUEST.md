# 사이트 구조 분석 의뢰서

> **목적:** AI(Claude)가 완벽한 스크래핑 봇을 만들 수 있도록 사이트 구조 상세 분석
> **의뢰일:** 2025-12-25
> **대상:** https://www.korea.kr/briefing/pressReleaseList.do

---

## 의뢰 배경

안녕하세요.

저희는 AI(Claude)를 활용해 뉴스 스크래핑 봇을 개발하고 있습니다.
현재 광주·전남 지역 27개 기관 스크래퍼를 성공적으로 운영 중이며,
이번에 **정부 중앙부처 보도자료(korea.kr)** 스크래퍼를 추가하려 합니다.

AI가 정확한 스크래퍼 코드를 작성하려면 **사이트 구조에 대한 상세한 정보**가 필요합니다.
분석 결과를 AI에게 전달하면, AI가 이를 기반으로 스크래퍼를 개발합니다.

**가능한 한 상세하게 분석해주시면 감사하겠습니다.**

---

## 분석 대상

| 항목 | 내용 |
|------|------|
| **사이트** | 대한민국 정책브리핑 (korea.kr) |
| **목록 URL** | https://www.korea.kr/briefing/pressReleaseList.do |
| **콘텐츠** | 정부 부처 보도자료 |

---

## 1. 목록 페이지 분석

**URL:** `https://www.korea.kr/briefing/pressReleaseList.do`

### 1.1 페이지 구조
AI가 알아야 할 것:
- 기사 목록이 어떤 HTML 태그로 구성되어 있나요? (table, ul, div 등)
- 한 페이지에 기사가 몇 개 표시되나요?
- 기사 정렬 순서는? (최신순, 조회순 등)

### 1.2 페이지네이션 (다음 페이지 이동)
AI가 알아야 할 것:
- 다음 페이지로 어떻게 이동하나요?
  - URL 파라미터 변경? (예: ?page=2)
  - JavaScript 함수 호출?
  - AJAX 요청?
- 페이지 번호 URL 패턴을 알려주세요

### 1.3 기사 링크 셀렉터 (가장 중요!)
AI가 알아야 할 것:
- 각 기사 제목/링크의 CSS 셀렉터
- **최소 3개 이상의 대안 셀렉터** (사이트 개편 대비)
- 예시:
  ```
  1순위: ul.news_list > li > a
  2순위: a[href*='newsId=']
  3순위: .article_title a
  ```

### 1.4 목록에서 추출 가능한 정보
각 항목의 위치(셀렉터)를 알려주세요:
- [ ] 기사 제목
- [ ] 기사 URL (href)
- [ ] 작성일/등록일
- [ ] 담당 부처명
- [ ] 조회수 (있다면)

---

## 2. 상세 페이지 분석

**샘플:** 목록에서 아무 기사나 클릭해서 분석

### 2.1 URL 패턴
AI가 알아야 할 것:
- 상세 페이지 URL 형식
- 필수 파라미터 (예: newsId)
- 예시: `/briefing/pressReleaseView.do?newsId=156736831`

### 2.2 콘텐츠 셀렉터 (매우 상세히!)

**제목:**
```
셀렉터:
예시 값:
```

**부제목:** (있다면)
```
셀렉터:
예시 값:
```

**본문 내용:**
```
셀렉터:
특이사항: (본문 안에 불필요한 요소가 있는지)
```

**작성일/등록일:**
```
셀렉터:
날짜 형식: (예: 2025.12.25, 2025-12-25)
```

**담당 부처:**
```
셀렉터:
예시 값:
```

**담당자/연락처:** (있다면)
```
셀렉터:
예시 값:
```

### 2.3 이미지
AI가 알아야 할 것:
- 본문 내 이미지 셀렉터
- og:image 메타태그 존재 여부
- 이미지 URL 패턴
- 이미지가 없는 기사가 많은지?

### 2.4 첨부파일 (중요!)
AI가 알아야 할 것:
- 첨부파일 목록 셀렉터
- 다운로드 링크 URL 패턴
- 파일 형식 (HWP, PDF 등)
- 다운로드 시 특별한 파라미터 필요 여부

---

## 3. 보안/봇탐지 분석 (매우 중요!)

AI가 스텔스 모드를 구현하려면 이 정보가 필수입니다.

### 3.1 WAF (웹 방화벽)
- [ ] Cloudflare 사용 여부
- [ ] AWS WAF 사용 여부
- [ ] 기타 WAF

### 3.2 봇 탐지 시스템
- [ ] DataDome
- [ ] Distil Networks
- [ ] PerimeterX
- [ ] Akamai Bot Manager
- [ ] 자체 봇 탐지 스크립트
- [ ] 기타: ____________

### 3.3 CAPTCHA
- [ ] 없음
- [ ] 있음 → 어떤 상황에서 나오나요?

### 3.4 Rate Limiting (요청 제한)
- [ ] 없음
- [ ] 있음 → 몇 초 간격? 몇 회 제한?

### 3.5 필수 헤더/쿠키
- User-Agent 검증: 예/아니오
- Referer 검증: 예/아니오
- 특정 쿠키 필요: 예/아니오 → 어떤 쿠키?

### 3.6 JavaScript 필수 여부
- [ ] 서버 렌더링 (SSR) - JavaScript 없이도 내용 보임
- [ ] 클라이언트 렌더링 (CSR) - JavaScript 필수

### 3.7 테스트 결과
가능하다면 아래 테스트를 해주세요:

```bash
# 1. curl로 직접 요청 (User-Agent 없이)
curl -I "https://www.korea.kr/briefing/pressReleaseList.do"

# 2. curl로 직접 요청 (User-Agent 있음)
curl -I -A "Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/131.0.0.0" "https://www.korea.kr/briefing/pressReleaseList.do"

# 3. 5초 간격 10회 요청 테스트 (차단 여부)
```

---

## 4. 이미지 다운로드 테스트

AI가 이미지를 저장하려면 이 정보가 필요합니다.

### 4.1 이미지 URL 직접 접근 테스트
```
이미지 URL 예시:
직접 접근 가능 여부: 예/아니오
Referer 필요 여부: 예/아니오
```

### 4.2 핫링크 방지 (Hotlink Protection)
- [ ] 없음 (어디서든 이미지 접근 가능)
- [ ] 있음 (Referer 헤더 필요)

---

## 5. 첨부파일 다운로드 테스트

### 5.1 다운로드 URL 구조
```
예시: /common/download.do?fileId=XXXXX&tblKey=GMN
필수 파라미터:
```

### 5.2 다운로드 테스트
```
직접 다운로드 가능: 예/아니오
세션/쿠키 필요: 예/아니오
JavaScript 필요: 예/아니오
```

---

## 6. 기타 정보

### 6.1 robots.txt
```
URL: https://www.korea.kr/robots.txt
내용: (복사해서 붙여넣기)
```

### 6.2 숨겨진 API
개발자도구 Network 탭에서 XHR/Fetch 요청 확인:
- JSON API 존재 여부
- API URL 패턴

### 6.3 RSS 피드
- RSS 피드 존재 여부
- RSS URL

---

## 7. 샘플 데이터 (5건)

분석하면서 수집한 샘플 데이터를 첨부해주세요:

| # | 제목 | URL | 날짜 | 부처 | 이미지 유무 | 첨부파일 유무 |
|---|------|-----|------|------|:-----------:|:------------:|
| 1 | | | | | O/X | O/X |
| 2 | | | | | O/X | O/X |
| 3 | | | | | O/X | O/X |
| 4 | | | | | O/X | O/X |
| 5 | | | | | O/X | O/X |

---

## 8. 스크린샷 첨부 (선택)

가능하다면 아래 스크린샷을 첨부해주세요:

1. 목록 페이지 전체 화면
2. 목록 페이지 HTML 구조 (개발자도구)
3. 상세 페이지 전체 화면
4. 상세 페이지 HTML 구조 (개발자도구)
5. Network 탭 요청 목록

---

## 9. 분석 결과 제출

분석 완료 후 아래 항목을 포함해서 제출해주세요:

1. **이 문서에 답변 작성** (빈칸 채우기)
2. **셀렉터 정리표** (Excel 또는 텍스트)
3. **보안 분석 결과**
4. **샘플 데이터 5건**
5. **스크린샷** (선택)

---

## 요약: AI에게 꼭 필요한 정보

| 우선순위 | 항목 | 이유 |
|:--------:|------|------|
| **1** | 기사 링크 셀렉터 (3개+) | 목록에서 기사 수집 |
| **2** | 본문/제목/날짜 셀렉터 | 상세 정보 추출 |
| **3** | 보안/봇탐지 분석 | 스텔스 모드 구현 |
| **4** | 이미지 다운로드 방법 | 썸네일 저장 |
| **5** | 첨부파일 다운로드 방법 | PDF/HWP 처리 |

---

**상세하게 분석해주시면 AI가 더 정확하고 안정적인 스크래퍼를 만들 수 있습니다.**
**감사합니다!**
