# koreanewskorea.com 전국판 개편 기획서

> **작성일:** 2026-01-02
> **상태:** 기획 단계
> **목표:** 전남/광주 → 전국 17개 시도 확장

---

## 1. 프로젝트 개요

### 1.1 현재 상황

| 항목 | koreanews-live (운영) | koreanewskorea (개발) |
|------|----------------------|----------------------|
| 도메인 | koreanewsone.com | koreanewskorea.com (예정) |
| 포트 | 3000 | 3001 |
| 범위 | 전남/광주 27개 기관 | **전국 17개 시도** |
| 상태 | 🟢 운영 중 | 🟡 개편 진행 |

### 1.2 개편 목표

```
┌─────────────────────────────────────────────────────────────┐
│  AS-IS (koreanewsone.com)                                   │
│  ─────────────────────────                                  │
│  • 전남/광주 27개 기관 보도자료                              │
│  • 5대 카테고리: 광주, 전남, 나주, 교육, AI                  │
│  • 지역 밀착형 뉴스 플랫폼                                   │
│                                                             │
│  TO-BE (koreanewskorea.com)                                 │
│  ─────────────────────────                                  │
│  • 전국 17개 시도 보도자료                                   │
│  • 확장된 카테고리 구조                                      │
│  • 전국 뉴스 플랫폼으로 도약                                 │
└─────────────────────────────────────────────────────────────┘
```

---

## 2. 전국 확장 아키텍처

### 2.1 지역 구조 (독립 시/군 단위)

> **핵심 원칙: 권역 없이 시/군 독립 운영**
> - ❌ 권역 그룹핑 없음 (호남권, 영남권 등 폐지)
> - ✅ 각 시/군이 독립적으로 운영
> - ⚠️ 예외: 목포시 + 신안군만 묶음 처리

```
전국 (Korea) - 독립 시/군 구조
│
├── 광역시/특별시 (8개) - 각각 독립
│   ├── 서울특별시
│   ├── 부산광역시
│   ├── 대구광역시
│   ├── 인천광역시
│   ├── 광주광역시 ✅ (운영중)
│   ├── 대전광역시
│   ├── 울산광역시
│   └── 세종특별자치시
│
├── 경기도 (31개) - 각각 독립
│   ├── 수원시, 성남시, 고양시...
│   └── (31개 시/군 각각 독립)
│
├── 강원특별자치도 (18개) - 각각 독립
│   ├── 춘천시, 원주시, 강릉시...
│   └── (18개 시/군 각각 독립)
│
├── 충청북도 (11개) - 각각 독립
├── 충청남도 (15개) - 각각 독립
│
├── 전라북도 (14개) - 각각 독립
│   ├── 전주시, 군산시, 익산시...
│   └── (14개 시/군 각각 독립)
│
├── 전라남도 (22개) ✅ (운영중)
│   ├── 나주시 (독립)
│   ├── 여수시 (독립)
│   ├── 순천시 (독립)
│   ├── ⚠️ [목포시 + 신안군] ← 유일한 묶음
│   └── ... (나머지 각각 독립)
│
├── 경상북도 (23개) - 각각 독립
├── 경상남도 (18개) - 각각 독립
│
└── 제주특별자치도 (2개) - 각각 독립
    ├── 제주시
    └── 서귀포시
```

### 2.2 IP 기반 지역 자동 감지 (신규)

> **사용자 접속 시 IP 주소로 지역 추정 → 해당 지역 콘텐츠 자동 표시**

```
┌─────────────────────────────────────────────────────────────┐
│  [IP 기반 지역 감지 로직]                                    │
│                                                              │
│  사용자 접속 (IP: xxx.xxx.xxx.xxx)                          │
│         ↓                                                    │
│  IP → 지역 변환 (GeoIP API)                                 │
│         ↓                                                    │
│  ┌─────────────────────────────────────────────────────┐    │
│  │  해당 지역 페이지 존재?                              │    │
│  │                                                      │    │
│  │  ✅ YES → 해당 지역 뉴스 표시                        │    │
│  │     예: 나주시 IP → 나주시 뉴스 메인                 │    │
│  │                                                      │    │
│  │  ❌ NO → "전국" 뉴스 표시                            │    │
│  │     예: 부산 IP (페이지 미구축) → 전국 뉴스 메인     │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                              │
│  [특수 케이스]                                               │
│  • 목포시 IP → 목포+신안 통합 페이지                        │
│  • 신안군 IP → 목포+신안 통합 페이지                        │
└─────────────────────────────────────────────────────────────┘
```

**기술 구현:**
```typescript
// IP 기반 지역 감지 흐름
async function detectUserRegion(ip: string): Promise<RegionResult> {
  // 1. IP → 지역 코드 변환
  const geoData = await getGeoFromIP(ip);  // GeoIP API
  const regionCode = geoData.city || geoData.region;

  // 2. 해당 지역 페이지 존재 여부 확인
  const regionPage = await checkRegionPageExists(regionCode);

  // 3. 결과 반환
  if (regionPage.exists) {
    return { type: 'local', region: regionCode };
  } else {
    return { type: 'national', region: 'all' };
  }
}
```

**GeoIP 서비스 옵션:**
| 서비스 | 무료 한도 | 정확도 | 비고 |
|--------|----------|--------|------|
| ip-api.com | 45회/분 | 시/군 | 추천 (무료) |
| ipinfo.io | 50K/월 | 시/군 | 안정적 |
| MaxMind GeoLite2 | 무제한 | 시/도 | 로컬 DB |

### 2.2 단계별 확장 계획

| 단계 | 기간 | 지역 | 기관 수 | 비고 |
|------|------|------|--------|------|
| **Phase 1** | 현재 | 전남/광주 | 27개 | 운영 중 (koreanewsone.com) |
| **Phase 2** | 1~2개월 | + 전북 | +14개 | 호남권 완성 |
| **Phase 3** | 2~3개월 | + 충청권 | +28개 | 중부권 확장 |
| **Phase 4** | 3~4개월 | + 경상권 | +46개 | 영남권 확장 |
| **Phase 5** | 4~5개월 | + 수도권/강원/제주 | +52개 | 전국 완성 |

**예상 총 기관 수: 약 170개**

---

## 3. 기술 아키텍처 개편

### 3.1 데이터베이스 스키마 확장

```sql
-- 지역 계층 구조 테이블 (신규)
CREATE TABLE regions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  code VARCHAR(20) UNIQUE NOT NULL,    -- 'seoul', 'jeonnam', 'gwangju'
  name VARCHAR(50) NOT NULL,           -- '서울특별시', '전라남도'
  parent_code VARCHAR(20),             -- 상위 지역 (시도 → 시군구)
  region_type VARCHAR(20) NOT NULL,    -- 'metro', 'province', 'city', 'county'
  latitude DECIMAL(10, 7),
  longitude DECIMAL(10, 7),
  is_active BOOLEAN DEFAULT true,
  sort_order INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- 스크래퍼 설정 테이블 (신규)
CREATE TABLE scraper_configs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  region_code VARCHAR(20) REFERENCES regions(code),
  source_name VARCHAR(100) NOT NULL,   -- '나주시청', '서울시청'
  source_url TEXT NOT NULL,
  scraper_type VARCHAR(50),            -- 'playwright', 'api', 'rss'
  config JSONB,                        -- 스크래퍼별 설정
  is_active BOOLEAN DEFAULT true,
  last_run_at TIMESTAMPTZ,
  error_count INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- posts 테이블 확장
ALTER TABLE posts ADD COLUMN region_code VARCHAR(20);
ALTER TABLE posts ADD CONSTRAINT fk_region
  FOREIGN KEY (region_code) REFERENCES regions(code);
```

### 3.2 스크래퍼 모듈화

```
scrapers/
├── _templates/              # 스크래퍼 템플릿
│   ├── base_scraper.py      # 공통 기반 클래스
│   ├── gnews_template.py    # 시청 공통 템플릿
│   └── edu_template.py      # 교육청 공통 템플릿
│
├── jeonnam/                 # 전라남도 (기존)
│   ├── naju/
│   ├── mokpo/
│   └── ... (22개)
│
├── gwangju/                 # 광주광역시 (기존)
│
├── jeonbuk/                 # 전북특별자치도 (Phase 2)
│   ├── jeonju/
│   ├── gunsan/
│   └── ... (14개)
│
├── chungnam/                # 충청남도 (Phase 3)
│   └── ... (15개)
│
└── ... (나머지 시도)
```

### 3.3 프론트엔드 라우팅 확장

```
app/(site)/
├── page.tsx                        # 메인 페이지
│
├── category/
│   ├── [slug]/page.tsx             # 동적 카테고리
│   │
│   ├── region/                     # 지역 카테고리 (신규)
│   │   ├── [sido]/page.tsx         # 시도별 (서울, 부산...)
│   │   └── [sido]/[sigungu]/page.tsx # 시군구별
│   │
│   ├── jeonnam-region/page.tsx     # 전남 시군 (기존)
│   ├── gwangju/page.tsx            # 광주 (기존)
│   └── ...
│
└── map/                            # 지도 서비스 (Phase 2+)
    ├── page.tsx                    # 전국 지도
    └── [region]/page.tsx           # 지역별 지도
```

---

## 4. 카테고리 구조 개편

### 4.1 현재 카테고리 (AS-IS)

```
- 광주
- 전남 (22개 시군)
- 정치/경제
- 사회/복지
- 문화/예술
- 교육
- AI
- 오피니언
```

### 4.2 개편 카테고리 (TO-BE) - 독립 시/군 구조

> **❌ 권역 그룹 폐지 → ✅ 시/군 독립 운영**

```
지역 (Region) - 독립 시/군 단위
├── 전국 (National)           # 기본값 (페이지 없는 지역용)
│
├── [광역시/특별시] - 각각 독립
│   ├── 서울
│   ├── 부산
│   ├── 대구
│   ├── 인천
│   ├── 광주 ✅
│   ├── 대전
│   ├── 울산
│   └── 세종
│
├── [전남 시/군] ✅ (운영중) - 각각 독립
│   ├── 나주시
│   ├── 여수시
│   ├── 순천시
│   ├── 광양시
│   ├── ⚠️ 목포시+신안군 (통합)   ← 유일한 예외
│   ├── 담양군
│   ├── 곡성군
│   ├── 구례군
│   └── ... (나머지 시/군 각각 독립)
│
├── [전북 시/군] - 각각 독립
│   ├── 전주시
│   ├── 군산시
│   └── ... (14개 각각 독립)
│
└── [기타 시/군] - 페이지 구축 시 추가
    └── (170개 시/군 각각 독립)

분야 (Topic) - 유지
├── 정치/경제
├── 사회/복지
├── 문화/예술
├── 교육
├── AI/테크
└── 오피니언
```

### 4.3 목포+신안 통합 처리

> **유일한 예외: 목포시와 신안군만 통합 페이지 운영**

```
┌─────────────────────────────────────────────────────────────┐
│  [목포+신안 통합 페이지]                                     │
│                                                              │
│  URL: /region/mokpo-sinan                                   │
│                                                              │
│  • 목포시 뉴스 + 신안군 뉴스 통합 표시                       │
│  • IP 감지: 목포 OR 신안 → 동일 페이지로 이동               │
│  • DB: region_code = 'mokpo' OR 'sinan' 쿼리                │
│                                                              │
│  이유: 신안군이 목포시 생활권이며, 뉴스 양이 적음           │
└─────────────────────────────────────────────────────────────┘
```

---

## 5. 핵심 기능 개편

### 5.1 메인 페이지 리뉴얼

```
┌─────────────────────────────────────────────────────────────┐
│  [헤더] 코리아뉴스 | 검색 | 로그인                           │
├─────────────────────────────────────────────────────────────┤
│  [GNB] 전국 | 수도권 | 충청 | 호남 | 영남 | 제주 | 분야별 ▼  │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌────────────────────────┐  ┌─────────────────────────┐    │
│  │   [TODAY 헤드라인]      │  │   [실시간 뉴스]         │    │
│  │   메인 기사 영역        │  │   • 서울시, 청년 정책...│    │
│  │   (Hero Section)       │  │   • 부산, 해양 축제... │    │
│  │                        │  │   • 대전, AI 클러스터...│    │
│  └────────────────────────┘  └─────────────────────────┘    │
│                                                              │
│  ┌─────────────────────────────────────────────────────┐    │
│  │   [전국 지도] 인터랙티브 지역 선택                    │    │
│  │   • 지역 클릭 → 해당 지역 뉴스 필터                  │    │
│  │   • 실시간 뉴스 카운트 표시                          │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                              │
│  [호남] ────────────────────────────────────────────────    │
│  광주 | 전남 | 전북                                          │
│  ┌────┐ ┌────┐ ┌────┐ ┌────┐                               │
│  │기사│ │기사│ │기사│ │기사│                               │
│  └────┘ └────┘ └────┘ └────┘                               │
│                                                              │
│  [영남] ────────────────────────────────────────────────    │
│  부산 | 대구 | 울산 | 경북 | 경남                            │
│  ┌────┐ ┌────┐ ┌────┐ ┌────┐                               │
│  │기사│ │기사│ │기사│ │기사│                               │
│  └────┘ └────┘ └────┘ └────┘                               │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### 5.2 관리자 대시보드 확장

```
관리자 (Admin)
├── 대시보드
│   ├── 전국 수집 현황 (지역별 통계)
│   ├── 실시간 스크래퍼 상태
│   └── AI 처리 현황
│
├── 지역 관리 (신규)
│   ├── 지역 목록 (활성화/비활성화)
│   ├── 스크래퍼 설정
│   └── 수집 스케줄
│
├── 콘텐츠 관리
│   ├── 기사 목록 (지역 필터 추가)
│   ├── 기사 작성/수정
│   └── AI 재가공
│
└── 설정
    ├── 카테고리 관리
    ├── 광고 관리
    └── 사용자 관리
```

---

## 6. 개발 우선순위

### 6.1 즉시 시작 (Week 1-2)

| # | 작업 | 설명 | 담당 |
|---|------|------|------|
| 1 | DB 스키마 확장 | regions, scraper_configs 테이블 생성 | Claude |
| 2 | 기존 데이터 마이그레이션 | posts.region_code 매핑 | Claude |
| 3 | 스크래퍼 템플릿화 | base_scraper.py 공통 클래스 | Claude |
| 4 | 프론트엔드 라우팅 | /category/region/[sido] 추가 | Claude |

### 6.2 Phase 2 준비 (Week 3-4)

| # | 작업 | 설명 |
|---|------|------|
| 1 | 전북 14개 시군 스크래퍼 개발 | 호남권 완성 |
| 2 | 메인 페이지 리뉴얼 | 전국 지도 UI |
| 3 | GNB 메뉴 확장 | 지역별 메가 메뉴 |
| 4 | 관리자 지역 관리 기능 | 지역 ON/OFF |

### 6.3 중장기 (Month 2-5)

| Phase | 지역 | 예상 기간 |
|-------|------|----------|
| Phase 3 | 충청권 (28개) | 1개월 |
| Phase 4 | 경상권 (46개) | 1.5개월 |
| Phase 5 | 수도권/강원/제주 (52개) | 1.5개월 |

---

## 7. 기술 스택

### 7.1 현재 스택 (유지)

| 영역 | 기술 |
|------|------|
| Frontend | Next.js 15, TypeScript, Tailwind CSS |
| Backend | Next.js API Routes, Supabase |
| Database | PostgreSQL (Supabase) |
| Scraper | Python, Playwright |
| AI | Ollama (로컬), OpenAI (백업) |
| Storage | Cloudinary |
| Deploy | Vercel |

### 7.2 추가 고려 기술

| 영역 | 기술 | 용도 |
|------|------|------|
| 캐싱 | Redis (Upstash) | 전국 데이터 캐싱 |
| 검색 | Algolia / Meilisearch | 전국 기사 검색 |
| 지도 | Naver Maps API | 전국 지도 서비스 |
| 모니터링 | Sentry | 에러 모니터링 |

---

## 8. 리스크 및 대응

| 리스크 | 영향 | 대응 방안 |
|--------|------|----------|
| 스크래퍼 170개 관리 부담 | 높음 | 템플릿화, 자동 복구 시스템 |
| 데이터 급증 (DB 부하) | 중간 | 파티셔닝, 아카이빙 정책 |
| AI 처리 비용 증가 | 중간 | Ollama 로컬 우선, 배치 처리 |
| 지역별 보도자료 형식 차이 | 높음 | 스크래퍼 템플릿 다양화 |

---

## 9. 성공 지표 (KPI)

| 지표 | 현재 | 목표 (6개월) |
|------|------|-------------|
| 일일 수집 기사 수 | ~200건 | ~1,000건 |
| 커버리지 (기관 수) | 27개 | 170개 |
| 지역 커버리지 | 1개 시도 | 17개 시도 |
| 월간 방문자 | - | 10,000+ |

---

## 10. 결론

koreanewskorea.com은 기존 koreanewsone.com의 성공적인 운영 경험을 바탕으로, **전국 17개 시도 170개 기관**으로 확장하는 야심찬 프로젝트입니다.

**핵심 성공 요인:**
1. **단계적 확장**: 무리하지 않고 Phase별 안정적 확장
2. **자동화 강화**: 스크래퍼 템플릿화로 개발 효율 극대화
3. **운영 분리**: koreanews-live(운영)와 koreanewskorea(개발) 완전 분리
4. **기존 자산 활용**: 검증된 기술 스택과 아키텍처 재사용

---

*이 문서는 개편 작업의 기준점으로 사용됩니다.*
*변경 사항은 주인님과 협의 후 반영합니다.*
